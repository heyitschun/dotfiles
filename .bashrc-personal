#!/bin/bash

################################################################################
#▄▄▄▄▄▄▄ ▄▄   ▄▄ ▄▄   ▄▄ ▄▄    ▄ ▄▄  ▄▄▄▄▄▄▄    ▄▄▄▄▄▄▄ ▄▄▄▄▄▄ ▄▄▄▄▄▄▄ ▄▄   ▄▄ 
#█       █  █ █  █  █ █  █  █  █ █  ██       █  █  ▄    █      █       █  █ █  █
#█       █  █▄█  █  █ █  █   █▄█ █▄▄██  ▄▄▄▄▄█  █ █▄█   █  ▄   █  ▄▄▄▄▄█  █▄█  █
#█     ▄▄█       █  █▄█  █       █   █ █▄▄▄▄▄   █       █ █▄█  █ █▄▄▄▄▄█       █
#█    █  █   ▄   █       █  ▄    █   █▄▄▄▄▄  █  █  ▄   ██      █▄▄▄▄▄  █   ▄   █
#█    █▄▄█  █ █  █       █ █ █   █    ▄▄▄▄▄█ █  █ █▄█   █  ▄   █▄▄▄▄▄█ █  █ █  █
#█▄▄▄▄▄▄▄█▄▄█ █▄▄█▄▄▄▄▄▄▄█▄█  █▄▄█   █▄▄▄▄▄▄▄█  █▄▄▄▄▄▄▄█▄█ █▄▄█▄▄▄▄▄▄▄█▄▄█ █▄▄█
################################################################################

#-------------#
# Usage       #
#-------------#

#Add the following line to .bashrc
#[[ -f ~/.bashrc-personal ]] && . ~/.bashrc-personal

#-------------#
# Functions   #
#-------------#

# # ex = EXtractor for all kinds of archives
# # usage: ex <file>
ex ()
{
  if [ -f $1 ] ; then
    case $1 in
      *.tar.bz2)   tar xjf $1   ;;
      *.tar.gz)    tar xzf $1   ;;
      *.bz2)       bunzip2 $1   ;;
      *.rar)       unrar x $1   ;;
      *.gz)        gunzip $1    ;;
      *.tar)       tar xf $1    ;;
      *.tbz2)      tar xjf $1   ;;
      *.tgz)       tar xzf $1   ;;
      *.zip)       unzip $1     ;;
      *.Z)         uncompress $1;;
      *.7z)        7z x $1      ;;
      *.deb)       ar x $1      ;;
      *.tar.xz)    tar xf $1    ;;
      *.tar.zst)   unzstd $1    ;;
      *)           echo "'$1' cannot be extracted via ex()" ;;
    esac
  else
    echo "'$1' is not a valid file"
  fi
}

function _update_ps1() {
    PS1="$($HOME/go/bin/powerline-go -hostname-only-if-ssh -error $? -jobs $(jobs -p | wc -l))"

    # Uncomment the following line to automatically clear errors after showing
    # them once. This not only clears the error for powerline-go, but also for
    # everything else you run in that shell. Don't enable this if you're not
    # sure this is what you want.
    
    #set "?"
}


#-------------#
# Aliases     #
#-------------#

alias cat='batcat --theme=base16'
alias config='/usr/bin/git --git-dir=/home/chun/dotfiles/ --work-tree=/home/chun'
alias cf='cd /mnt/ssd/' # change to code files directory
alias ipy='ipython '
alias ls='exa --color=auto -la'
alias py='python3 '
alias r='ranger '
alias sudo='sudo ' # so that you can use sudo with other aliases
alias vpn='surfshark-vpn '

#-------------#
# Startup     #
#-------------#

neofetch

#if [ -x "$(command -v picom)" ]; then
  #picom &> /dev/null &
#fi

#source ~/gitstatus/gitstatus.prompt.sh
#if [ "$TERM" != "linux" ] && [ -f "$HOME/go/bin/powerline-go" ]; then
    #PROMPT_COMMAND="_update_ps1; $PROMPT_COMMAND"
#fi

source <(silver init)
